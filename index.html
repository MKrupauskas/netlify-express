<h1 class="p-5 font-bold text-xl">Reviews</h1>
<div data-js="list" class="p-5"></div>

<link
    href="https://unpkg.com/tailwindcss@^1.0/dist/tailwind.min.css"
    rel="stylesheet"
/>
<script>
    const url = '/.netlify/functions/reviews';

    const init = async () => {
        const response = await fetch(url);

        const data = await response.json();

        const list = document.querySelector('[data-js="list"]');

        data.forEach(item => {
            const date = new Date(item.created).toLocaleDateString();

            list.innerHTML += `
                <div class="border border-gray-400 rounded p-2 mb-1">
                    <p>${item.text}</p>
                    <small>${item.rating} | ${date}</small>
                </div>
            `;
        });
    };

    init();
</script>
